{% extends "layout2.html" %}
<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <title>Attack Diagnosis Coach</title>
</head>
<body>
    {% block content %}
    
        <h1>Personal Attack Diagnosis Coach</h1>
        <p class="comment">Please check your Cowrie log data and enter</p>

        <!-- Form to input parameters and get diagnosis -->
        <form method="POST" action="{% url 'your_help_coach:attack_suggestion'%}">
            {% csrf_token %}
            <div class="form-flex">
                <!-- 表單輸入欄位 -->
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="input">Input:</label>
                    <input type="text" id="input" name="input" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="protocol">Protocol:</label>
                    <input type="text" id="protocol" name="protocol" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="duration">Duration:</label>
                    <input type="text" id="duration" name="duration" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="data">Data:</label>
                    <input type="text" id="data" name="data" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="keyAlgs">Key Algorithms:</label>
                    <input type="text" id="keyAlgs" name="keyAlgs" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <input type="text" id="message" name="message" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="eventid">Event ID:</label>
                    <input type="text" id="eventid" name="eventid" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="kexAlgs">Key Exchange Algorithms:</label>
                    <input type="text" id="kexAlgs" name="kexAlgs" class="form-control" required>
                </div>
            </div>

            <!-- 顯示 attack_type 和結果區塊 -->
            <div class="form-group">
                <h1>The attack you encountered:</h1>
                <input type="text" id="encounteredAttack" name="encounteredAttack" value="{{ attack_type }}" class="form-control" readonly>
                
                <!-- 如果有 attack_type，就顯示結果區塊 -->
                {% if attack_type %}
                <div class="result-block">
                    <p>{{ attack_type }}</p>
                </div>
                {% endif %}
            </div>
            
            <!-- 提交表單 -->
            <button type="submit">Get Your Diagnosis</button>
        </form>
    
    {% endblock %}
</body>
</html>
